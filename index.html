<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Gift Hunt</title>
    <style>
        body {
            background-color: #f0f8ff;
            font-family: 'Arial', sans-serif;
        }

        #game-container {
            text-align: center;
            margin-top: 50px;
        }

        #game-area {
            width: 600px;
            height: 400px;
            border: 2px solid #ccc;
            position: relative;
            overflow: hidden;
            background-image: url('snow-background.png'); /* Use a festive background image */
            background-size: cover;
        }

        .gift {
            width: 30px;
            height: 30px;
            background-image: url('gift.png'); /* Use a gift image */
            background-size: cover;
            position: absolute;
        }

        .obstacle {
            width: 50px;
            height: 50px;
            background-color: red; /* Use a festive obstacle */
            position: absolute;
        }

        #score, #timer {
            font-size: 24px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Christmas Gift Hunt</h1>
        <div id="score">Score: 0</div>
        <div id="timer">Time: 30</div>
        <button id="start-button">Start Game</button>
        <div id="game-area"></div>
    </div>
    <audio id="collect-sound" src="collect.mp3"></audio>
    <audio id="game-over-sound" src="game-over.mp3"></audio>

    <script>
        let score = 0;
        let timeLeft = 30;
        let timer;
        const gameArea = document.getElementById('game-area');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const startButton = document.getElementById('start-button');
        const collectSound = document.getElementById('collect-sound');
        const gameOverSound = document.getElementById('game-over-sound');

        startButton.addEventListener('click', startGame);

        function startGame() {
            score = 0;
            timeLeft = 30; // Reset time
            scoreDisplay.innerText = `Score: ${score}`;
            timerDisplay.innerText = `Time: ${timeLeft}`;
            gameArea.innerHTML = ''; // Clear previous game area
            generateGifts();
            startTimer();
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.innerText = `Time: ${timeLeft}`;
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            gameOverSound.play();
            alert(`Game Over! Your final score is: ${score}`);
            startButton.disabled = false; // Enable the start button for a new game
        }

        function generateGifts() {
            const gift = document.createElement('div');
            gift.className = 'gift';
            gift.style.top = Math.random() * (gameArea.clientHeight - 30) + 'px';
            gift.style.left = Math.random() * (gameArea.clientWidth - 30) + 'px';
            gameArea.appendChild(gift);
            
            gift.addEventListener('click', function() {
                score++;
                collectSound.play();
                scoreDisplay.innerText = `Score: ${score}`;
                gameArea.removeChild(gift);
                generateGifts(); // Generate new gift after collection
                if (score % 5 === 0) { // Increase difficulty every 5 gifts
                    generateObstacles();
                }
            });
        }

        function generateObstacles() {
            const obstacle = document.createElement('div');
            obstacle.className = 'obstacle';
            obstacle.style.top = Math.random() * (gameArea.clientHeight - 50) + 'px';
            obstacle.style.left = Math.random() * (gameArea.clientWidth - 50) + 'px';
            gameArea.appendChild(obstacle);
            
            obstacle.addEventListener('click', function() {
                alert('Game Over! You hit an obstacle.');
                endGame();
            });
        }

        // Optional: Add touch events for mobile devices
        if ('ontouchstart' in window) {
            gameArea.addEventListener('touchstart', function(event) {
                const touch = event.touches[0];
                checkHit(touch.clientX, touch.clientY);
            });
        }

        function checkHit(x, y) {
            const gifts = document.getElementsByClassName('gift');
            for (let gift of gifts) {
                const rect = gift.getBoundingClientRect();
                if (x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom) {
                    gift.click();
                    return;
                }
            }
        }
    </script>
</body>
</html>